<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Electric-Meter</title>
    <link rel="stylesheet" href="/assets/styles.css"/>
    <script src="/assets/ap-setup.js" async></script>
</head>

<body>
<div class="form-container">
    <h1>Setup</h1>
    <p>You are connected to the Electric-Meter setup page.</p>
    <form action="/configure" method="POST" autocomplete="off" autocapitalize="none">
        <fieldset>
            <legend>Wifi settings</legend>
            <label for="ssid">SSID:</label>
            <input type="text" id="ssid" name="wifi[ssid]">
            <label for="wifi-password">Password:</label>
            <input type="password" id="wifi-password" name="wifi[password]">
        </fieldset>
        <fieldset>
            <legend>UI settings</legend>
            <label for="ui-username">Username:</label>
            <input type="text" id="ui-username" name="ui[username]"/>
            <label for="ui-password">Password:</label>
            <input type="password" id="ui-password" name="ui[password]"/>
        </fieldset>
        <fieldset>
            <legend>Remote server</legend>
            <label for="api-endpoint">API endpoint:</label>
            <input type="text" id="api-endpoint" name="api[endpoint]"/>
            <label for="api-access-token">API Access token:</label>
            <input type="text" id="api-access-token" name="api[accessToken]"/>
        </fieldset>
        <fieldset>
            <legend>Meter settings</legend>
            <label for="pulses-per-kwh">Pulses per kWh:</label>
            <input type="number" id="pulses-per-kwh" name="pulsesPerKwh" value="800" min="100" step="50"/>
            <label for="initial-value">Initial value:</label>
            <input type="number" id="initial-value" name="initialValue" value="0" min="0" step="0.1"/>
            <label for="report-interval">Report every: (mins)</label>
            <input type="number" id="report-interval" name="reportInterval" value="60" min="10" step="5"/>
        </fieldset>
        <button class="button">Save</button>
    </form>
</div>
<div class="success-message hide">
    <h1>Configured</h1>
    <p>The Electric-Meter will now reboot and attempt to connect to the &quot;{{ssid}}&quot; wireless network...</p>
</div>
<div class="error-message hide">
    <h1>Error</h1>
    <p>{{message}}</p>
</div>
</body>

</html>
